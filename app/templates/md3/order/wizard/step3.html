{% extends 'base.html' %}

{% block content %}
{% include 'md3-nav.html' %}
<div class="md3-page">
  <style>
    /* Wizard-spezifische Styles - KEINE Navigation-CSS Overrides */
    .wizard-container { max-width: 1080px; margin: 24px auto; padding: 0 16px; }
    .wizard-card { padding: 20px; border-radius: 16px; }
    .wizard-actions { margin-top: 16px; display: flex; gap: 8px; justify-content: flex-end; }
    .wizard-steps { display:flex; align-items:center; gap:12px; padding:12px 16px; border-radius:16px; }
    .wizard-step { display:flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background: var(--md-sys-color-surface); box-shadow: var(--md-sys-elevation-1); }
    .wizard-step .num { width:20px; height:20px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; background: var(--md-sys-color-primary); color: var(--md-sys-color-on-primary); font-size:12px; }
    .wizard-step.active { background: color-mix(in srgb, var(--md-sys-color-primary) 12%, var(--md-sys-color-surface)); }
    .order-summary { padding: 16px; border-radius: 12px; background: var(--md-sys-color-surface-variant); }
    .summary-item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid var(--md-sys-color-outline-variant); }
    .summary-item:last-child { border-bottom: none; }
  </style>
  <div class="wizard-container">
    <div class="md3-header" style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;">
      <div>
        <div class="md3-title">Bestellassistent – Schritt 3/4</div>
        <div class="md3-subtitle">Tracking & Lieferdetails</div>
      </div>
    </div>

    <div class="md3-card wizard-steps" aria-label="Fortschritt" style="margin-bottom:12px;">
      <div class="wizard-step"><span class="num">1</span><span>Auswahl</span></div>
      <div class="wizard-step"><span class="num">2</span><span>Artikel</span></div>
      <div class="wizard-step active"><span class="num">3</span><span>Details</span></div>
      <div class="wizard-step"><span class="num">4</span><span>Abschluss</span></div>
    </div>

    <form method="post" class="md3-card wizard-card">
      {{ form.hidden_tag() }}
      <div class="wizard-grid">
        <label style="grid-column:1/span 2;">
          <div class="md3-subtitle" style="margin-bottom:4px;">{{ form.tracking_number.label }}</div>
          {{ form.tracking_number(placeholder='optional', style='width:100%;height:44px;border-radius:12px;border:1px solid var(--md-sys-color-outline-variant);padding:0 12px;background:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);') }}
        </label>

        <label>
          <div class="md3-subtitle" style="margin-bottom:4px;">{{ form.tracking_carrier.label }}</div>
          {{ form.tracking_carrier(style='width:100%;height:44px;border-radius:12px;border:1px solid var(--md-sys-color-outline-variant);padding:0 12px;background:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);') }}
        </label>

        <label>
          <div class="md3-subtitle" style="margin-bottom:4px;">{{ form.expected_delivery_date.label }}</div>
          {{ form.expected_delivery_date(type='date', style='width:100%;height:44px;border-radius:12px;border:1px solid var(--md-sys-color-outline-variant);padding:0 12px;background:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);') }}
        </label>

        <label style="grid-column:1/span 2;">
          <div class="md3-subtitle" style="margin-bottom:4px;">{{ form.comment.label }}</div>
          {{ form.comment(rows='4', placeholder='optional', style='width:100%;border-radius:12px;border:1px solid var(--md-sys-color-outline-variant);padding:8px 12px;background:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);') }}
        </label>
      </div>

      <div class="md3-toolbar wizard-actions">
        <a href="{{ url_for('md3_order.wizard_step2') }}" class="md3-button md3-button-text">Zurück</a>
        {{ form.submit(class='md3-button md3-button-filled') }}
      </div>
    </form>
  </div>
</div>
{% endblock %}
